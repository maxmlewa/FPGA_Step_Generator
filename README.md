# Clock-Synchronized Step Generator on Basys 3
Welcome to a hardware project born from the depth of frustration (as most projects are), oscilloscopes, and the desperate desire to generate clean consistent steps for a [Transistor Curve Tracer](https://en.wikipedia.org/wiki/Curve_tracer) without sacrificing sanity or signal integrity. This Verilog-powered FPGA project replaces noisy TTL counters and glitchy multivibrators with a crisp, isolated, glitch resistant **digital step generator**, all running on the Basys 3 FPGA.


## Motivation and Backstory
This project started when I stumbled upon [Paul's Curve Tracer](https://www.paulvdiyblogs.net/2021/03/building-curve-tracer-version-3.html). While not as versatile (at least not **yet**) as the traditional Tektronix 577 and 576 Curve Tracers, the Curve Tracer project aims supplement these devices by addressing the inherent bulkiness, cost, and inaccessibility of the obsolete replacement.

Inspired by its elegance, I set out to recreate it but with a few upgrades and generalizations, aiming to support both PNP and NPN devices, achieve better timing control, and accurate step and triangular waveform synchronization.

Things escalated quickly.

We first tried the analog route, connecting the synchronization pulses generated by the Triangle Waveform Generator to the Step Generation unit using our very own custom optoisolator. The optoisolation was achieved using an LED and a phototransistor-2N3904 NPN transistor in a Darlington pair configuration.

Sounds smart right? Well...it was smart, just not as practical as we'd imagined. Parasitic capacitance, false triggering and painfully slow recovery times as a result of the huge Miller Capacitance turned our dreams of isolation into a jittery and ringing mess.

But then two roads diverged in a breadboard,\n
And sorry I could not travel both\n
And be one traveler, long I stoodn\n
And took the one with a datasheet and actual specs...the CNY17 photoisolator package!

Although the glitches and the lack of speed persisted, the pinout diagrams and switching time charts helped demostify many of the mysteries and inconsistencies inherent in our custom optoisolator. By integrating an SN74LS221 monostable multivibrator, I significantly improved the quality of the clock signal, reducing jitter and virtually eliminating false triggers.

This success made one thing clear: there was still much more ground to cover. Precision and consistency were non-negotiable in designing a reliable measurement instrument, and to meet those demands, I turned to FPGAs. Their deterministic timing, reconfigurability, and fine-grained control offered a level of performance and flexibility that discrete logic simply could not match.
